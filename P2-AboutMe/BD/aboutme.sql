-- phpMyAdmin SQL Dump
-- version 4.7.4
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 13-04-2018 a las 14:00:39
-- Versión del servidor: 10.1.30-MariaDB
-- Versión de PHP: 5.6.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `aboutme`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `archivo`
--

CREATE TABLE `archivo` (
  `ID_archivo` int(11) NOT NULL,
  `clave_carpeta` int(11) NOT NULL,
  `nombre` varchar(32) NOT NULL,
  `texto` varchar(140) NOT NULL,
  `imagen` blob
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `carpeta`
--

CREATE TABLE `carpeta` (
  `ID_Carpeta` int(11) NOT NULL,
  `categoria_clave` int(11) NOT NULL,
  `correo_usuario` varchar(32) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `categorias`
--

CREATE TABLE `categorias` (
  `Clave` int(11) NOT NULL,
  `categoria` enum('Aventura','Gastronomia','Ciencia') NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `usuarios`
--

CREATE TABLE `usuarios` (
  `correo` varchar(32) NOT NULL,
  `password` varchar(40) NOT NULL,
  `nombreusuario` varchar(30) NOT NULL,
  `foto` blob,
  `tipo` enum('admin','registrado','no_registrado') NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `usuarios`
--

INSERT INTO `usuarios` (`correo`, `password`, `nombreusuario`, `foto`, `tipo`) VALUES
('b@b.com', 'c', 'c', 0x89504e470d0a1a0a0000000d4948445200000200000002000806000000f478d4fa000000097048597300008dbb00008dbb019d758180000000206348524d00006d980000738e0000f9a5000084c800007c570000fac10000307600001124178e0a720000121c4944415478daecdded7214470c055076ca4f4d0a5290e2b93bff128c6dd88fe96db5ee392f90b0a3966e6bd6f6e5f3d7ef9f80f2c666ffbf178f6cbe1fdfbef810b8db8b8f000cf685ff2e4101040030e07d3e0202080060d8f3fe672a1480000006bdcf5f300001000c7ccf49200001000c7bcf52280001000c7c6c094000c00000810001000c7d785d2bc200020018f8a823810001000c7dd26b4c18400000431f6100040030f41106400000431f6100040030f41106400000839fb0ba16041000c0d0c7560004003443b015000100431f6c054000c0e0075b01100030f879e5e2d90a02200060f01bea15ff1fd58320800080a14f6043bfa89dd3ce9630800080c16fd0b7ff9cd496ad00b30edde7afdf7d0a18fc06bdda537bd80080e6abe96ef7f90fe7514d220060f01bf69e5162bd0a02080018fc063ec15b024100010083dfd0e783673c82ceafda4600c0e037f009dc0e08020800c40f7f0d90e4edc070061000481afc1a1ec2806d00020021835f734318100410000819fc1a19c28020800040c8f0d7b41006ceeb09ce930080c16fe8436018b00d100030f80d7e78b04e050104000c7f431f5b816d7b8733280060f01bfc10b815b00d100030fc0d7d08de0ad806080018fc063f846e056c039a397c0486ffc206a8912008ec770e86c7660380c3e8c60f991b01db001b000c7f377e083e27b601360038746efc10ba11b00db001c0f077e387e073641b600380c10f846e046c036c00081cfe6efce09cd9060800041d24831f9c3b2160435e01383c8f3420a0c639acda2fbc12b001a0d1f077e307e7d23640002070f803cea810d08057000e87c10f3d4340c59ee295800d009b0c7feb7ed83b08543dbfb6010200c5873fd06723a0f7210038006efd601ba007a6f31d0045efc60f79db804a3dc8f7026c000c7fc31f083ef3b6010280e1ffe42660f8436e08a876fe850001c0f077eb07427b8110200018fe6efd40685f10020400c3dfad1f08ed1142c0647e0ac0e00778af5f54e8617e42c006c0f037fc01db000400c3dff0078400040005faeea135fc816efd440810000c7fb77e20b4b708010280e16ff8034200024076215af90369fd460810000c7f8f0108ed3d42800060f80308010800fd0bceca1fa8140256f7232140008819fe00b60142800060f803080142c06dfc2d00c31ff5abee38bb578dc5b5ae6e0500c31ff538f9bfa53611020400cdd6e0a761f8bce7ff4fddf2731d8c85b5a9160500c31fb5b6f0dfa2960501214000d0900d7f1a0efc5bfead6a5b0810020400cdd9f05757e19f815a17028400014093d610d552f0e7a3ee8500216001bf07c0f0e7fc1a1a86ff5d9f193921402817000c7fc3df1043731602d4990060f863f0fb3c7d9e428010200018fe18543e5f8400214000e85400fe9a9fc18426cdfa7e185d5f36006efd5c3ff40d234d1abd5100d05414b83ac173a0418f8cadadd40060f873edad1f2100214000d0440c7f350208010280c66ef8bbf5a349230408001a87e1af3ef0ac100204000dc3f077ebc773430828cb1f03c24d926ecf50f8061b00b77f0cffe0ed802d812d801e111c000c7f0c7f04012140af080b00863f863f1f6d061002e27bc6d1f8a01bfe18fed80a08017a47e006c0f0c7f04710d073090a00432162f823080801fa48560030fc31fc512f4280fa080b00863f9a39b6014280be12ba0130fc31fc51437a324101c04105f416d4455800b0fa47d366763da9295b80767de66870300d7f0c7fd4164240e006c0f04783468da157070580a1a00058dcb3b70d85bb0600c31f3733d41a4240e806003464d41c040500b77f4008c016202c0018fe68c2a83f8480d00d80e10f0801e8e94101c021434d00fa525800b0fac7f0473db24b6fdfa21ebc0230fc0121408f0f7438540a43a3058480bc3e553d0068f480708a7a08dd00b8fda3c1027a7e5000b0fa07845476effd65ebe1083f40863f8010101902bc02c0cd0ad42a818ee083e3f60f40ec16e0f0c0016c0184001b000706cd1420a08f1d811f8cdb3f00ab664399107078c048cda076c99b118743020079332f6903e0f60fb8e06056140a00c30345f304c242c0f2dee617010140a0d501c0ed1f005b80b00060b50ba4d0ef28571bdd5f01b8fd036086140a0056ffb8350142c0c25ee74b80001068450070fb07c01660f116c00600a0cfe507ca0600b77f344bc016a040df3b3c2000c89b31cf0c006e740050645676da00b8fd0360d6140b006eff0050686676d900b8fd031a3b664eb100a0e001a0d8ececb00170fb57f800664fb100a0910340c119bafb06c0ed1f00332830000000c502c0ecf5bfdb3f00ddb700d366a90d0000d800b8fd0340c216c00600006c00dcfe0120610b6003000036006eff0090b005b00100782ebf2195961b00b77f006c01c20280540b00739d366b77d900b8fd03600b507003e0f60f001b6d0176d800b8fd03600b50740300a5922d180c303f0068d800b0d965a9fa064052066057a567d8a301c0ed1f0036dc0254de00b8fd4bcc007a5ad10d0000b0a1470280f53f00ac75f72caeba01b00606a08b9233cd2b000008746f0098b9fe77fb07c01660f24cb60100001b00004000789ff53f00d49a7137cf661b0000b00100000480b7acff01f4396ad6c04d33da0600006c00000001e035eb7f00a83df3ae9ed53600a41d0e000400001000dcf6002064f65d1b00866705e0b2c316ae9ad95e010040a0d50140220620d5d219784d00b0fe0780bdfc71767b05000081560600eb7fd407a0d705060000a06800f0fe1f60e35b1ed1860d000050220048c300b07026da0000800dc02bdeff13998a411dd3c8a8b40170180060f16cf40a00000209000020000000c90160d61700bdff47cda07ee1b9f5326c000000010000040000203a00f8054000d0cb58b901f0651820899e47e9baf10a000702209000000002000020009cc70a1748a2e751be7e7e0d007e02000d15a0a7b162030000142200009ccbb60a0100001000c0cd0aa06000f0278001f43b7ad7d2b00100001b000040000000040028c43b56d4269ce0c547c046fca64a76a84f41001b000701c31fb50a3567a8570068a8a06609de00285600080aa83600b84981da257803001a28a861040000400000372750cb0800008000f011bf0300008ace521b002ab232454dc3c61b0000400000002a0500ab2900c8326c0000207403000008000080000000080000800000000800fff16b8001a0f04cb50100001b000040000000040000400080597c8914350d020000200000000200002000000002001bf3a529d432080000800000000800b465758a1a06010000100000000180b6ac5051bb2000000002006e52a066410000000400004000607356aaa8551000d058418d820000000800b86181da0401008d16d424080068b8a016410040e3053548a0171f014d1af0f05160f08300802000063f2c0800c341a14083160630f4e9604a2ff31d000008240000800000000800b037ef6e5143200000000200008407002b2e00c872b1010080d00d00b44eb93e02d40e080000c0e400e0d7b00240d1596a0300003600d09277b9a8191000000001000004000020290078df45776a1cb5023fd5b80d0000046f0066f1bb0070b3032838436d000084446c0000000100dcf0501b20000000020000d02000cc5a7ff94900aab1ea454d50dd985deb36000010be0100373ed4020800008000006e7ea801681b001c06000808bccfda00f84900dc00010acd4caf0000e10f020900601000020080d00702c0b97c0f000301cf1a8acccac3e10080bce0eb150008bf9e31041200c08000040000e10e9203803f0d8c4101f05cd3ff04b00d0008019e27d8000018fe200000060720004ce07b000801787eb078361e0e0e18229e1be49d03af0000c31f02ad0a005e0360a0e059c1c299680300068b670436000e135c71269c0bc31fb63f13360080e10f36004fe57b0000a45b360b6d0000c006e05d566b00b0973fceeed51b00af010048b574067a05000081ae0d005e0300c01eae9ad91536005e03009066f9ecf30a0000020900002000fcd6ccef01780d00408a9933efea596d0300003600008000f096d70030ff2c007d9558ffdb0000800d000020007ccc6b0000a835e36e9ecd3600006003000008001ff31a00006accb6bb66b20d0000d80044242500889f698f0400bf0805071a60adbb67b157000010a8720070c30260776567d9a301c06b000058e3a1195cfd15802d00006eff053700b60000b0d9ed7f870d0000507403309bd70000eca6fcec3a2b00780d0000cf71caccdde515802d00006eff053700b60000b0c9ed7fa70d802d00006655d10d0000b089cb18e78695bffefe6776faf1aa01291fbd81b8bef0e3db97536bdc06000002cd0800b353b89b170051b7ff19b3d50600006c006c0100a0fbeddf0600006c006c010020e1f66f03000036009217a83bcf05526a6e7600f08b3900a0e00cedf00a40ea47bde1f9a0d60a06005b000028363bbb7c0950ea479de139a1c60a06005b00002834333bfd18a0d48ffac2f3426d150c00b60038f0786e5064561e0e3ca82920af1f3c3b005c3c2040c3462dadbdfd77dc0080e181e7084503802d0086069e27ea67e1eddf06000c0bcf156c006c0140dd78be9070fb4fd80038eca8173c67d44ab100e0f702e0a0e379936ed92c3c02fee10e3a7faa0f352204c08afa587a11f625401c70d40004aa10006c01d0f8595d0bea81a8db7fda06c00147b3478f401d140b00be1088838d80488a1233ef083cdc68eaa05710ffdc2b05808b078ce78de048f35e5166e35d6d03e055009a376a89ae4acdb823f840a35983be41ecb3ad1800bc0ac0e0479dd16df897db70bf78f638bc7077dd796d890d802d006e62a8435c20f6b8fd570e0042001a2eea12c37f22af00fe2f04ab3c8715ceac533d453f29ad7a00b878500e296c5ebf8240aed2cffef0011a36451ba7e7817a66e75e5f3ef87905f0b630a475377e985ddffa8c1e6303503049299035b7239f3bb60274e9ed5b04bc9d7e13a0c4ac01827380597512af003e3e9402c7fe291c763c177a8fbe6303b038592998f36f393e53b015e83cfcb70a6f3bfe312021402303c119c3ff415e012034c13ee7caeb01a23700b6006efb602b80db7f68001002342370fe9c3dc3ff015e01dc5650d66f0211543e8f7a94fe14b1015851ec23fc50b97180ad80e1df24701d0d1eb810a0a10002bbe17fa32eaf00fcd5402107f8fd79f67ac0f06fb7013020ddf681ecf3ad6f850700af02340620efbc5bfddfa9db4f013cfb55c0ce3f1960e08320b0fb5033fc6d006c02dcf681b0be60f80b006ed3063f10d627f43201a054521b0e34d02c088ca2ff6f0933450010020c7e402f31fc050021c0e007327b8be12f000801063f1016040cff09fc31a01e87116055eff11b066d006c019e3c98ddf881844b88dbbf00200418fc40e11030abdf19fe02407c0830f881a42060f80b00f121c0e007d28280e12f00c48700831fd83d0818fe028010704361bbf50389db00c35f00884ec4063fa0f7315dfaef01b87c5af74b7b7e4d9e8a1f480901557a5ff4ef30b001585b00c3f007828380e12f00080100a121c0f01700a24300007abd00a03000d0e30500050280de2e00281400f4740140c100a0970b000a07003d5c005040007a3702804202d0b311001414805e2d00a0b000f46801000506a0370b002834003d590040c101e8c50280c203400f16001420007aaf00a01001d07305000509805e2b00284c00f45801408102a0b70a000a15404ff5119cefc54730bd60878f02c0e0b70150c000e89d0280420640cf14001434805e8900a0b001f4480400050ea037720a3f05b0b6d0fd8400a01f6203a0f001f4400400070040ef4300701000f43ccee23b00f50e84ef0500063f36000e0880de8600e0a000e8699cc02b80fa07c62b01c0e0c706c00102d0bb10001c24003d8b3b7805b0df81f24a0030f8b10170c000f4266c006c03000c7e6c001c3c003d081b00db0000831f1b00071240afb101c03600c0e0b701c04105d0536c00b00d000c7e6c00708001bd031b006c0300831f0100410030f8a9cd2b00071d404fb001c0360030f81100100400831f0100410030f8e9c17700d020c0d9c606006c03c0e0470040e31004c0e047004010f05180c18f0080200018fc0800080280c18f008020004c3d7f3fbe7df12920002008801b3f0800ac6f4cc20018fa0800d80a00063f0200820060f02300200800063f0200390d4e1800431f01005b0130f84100c056000c7d1000b01500831f04006c05c0d007010061000c7d10001006c0d007010061000c7d10001006c0d04700f01110d0a805020c7c1000086fe4c200863e080068f002817a0001000c0081c0c00701000c08a1c0b00701000c1281c0c00701000c9a370403831e040030988402c31e040030c0de377c3e800000066097a060b04371ff0e00863469b8359706510000000049454e44ae426082, 'registrado');

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `archivo`
--
ALTER TABLE `archivo`
  ADD PRIMARY KEY (`ID_archivo`) USING BTREE,
  ADD UNIQUE KEY `clave` (`ID_archivo`,`clave_carpeta`),
  ADD KEY `clave_carpeta` (`clave_carpeta`);

--
-- Indices de la tabla `carpeta`
--
ALTER TABLE `carpeta`
  ADD PRIMARY KEY (`ID_Carpeta`),
  ADD KEY `correo_usuario` (`correo_usuario`),
  ADD KEY `categoria_clave_2` (`categoria_clave`);

--
-- Indices de la tabla `categorias`
--
ALTER TABLE `categorias`
  ADD PRIMARY KEY (`Clave`);

--
-- Indices de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD PRIMARY KEY (`correo`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `carpeta`
--
ALTER TABLE `carpeta`
  MODIFY `ID_Carpeta` int(11) NOT NULL AUTO_INCREMENT;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `archivo`
--
ALTER TABLE `archivo`
  ADD CONSTRAINT `archivo_ibfk_1` FOREIGN KEY (`clave_carpeta`) REFERENCES `carpeta` (`ID_Carpeta`);

--
-- Filtros para la tabla `carpeta`
--
ALTER TABLE `carpeta`
  ADD CONSTRAINT `carpeta_ibfk_1` FOREIGN KEY (`correo_usuario`) REFERENCES `usuarios` (`correo`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `carpeta_ibfk_2` FOREIGN KEY (`categoria_clave`) REFERENCES `categorias` (`Clave`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
